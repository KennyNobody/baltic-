export const state = () => ({
	blog: {
		items: [
		// {	
		// 	"id": 1,
		// 	"title": "В Калининграде пропал без вести 24-летний мужчина",
		// 	"preview": "http://placehold.it/1000x600",
		// 	"discription": 'В Калининграде ищут пропавшего без вести 24-летнего Александра Глазачева. Об этом сообщают волонтёры ПСО "Запад". Мужчина ушёл из дома на ул. Гагарина 11 декабря около часу дня.',
		// 	"content": '<p>В Калининграде ищут пропавшего без вести 24-летнего Александра Глазачева. Об этом <a href="https://vk.com/wall-96162268_10400?w=wall-96162268_10400" rel="noopener" target="_blank">сообщают</a> волонтёры ПСО "Запад".</p><p>Мужчина ушёл из дома на ул. Гагарина 11 декабря около часу дня. С тех пор о его местонахождении ничего не известно.&nbsp;</p><figure><img src="http://placehold.it/1200x900" alt="Подпись к фото"><figcaption>Подпись к фото</figcaption></figure><p>Приметы пропавшего: на вид 25 лет, худощавого телосложения, волосы тёмно-русые, стрижка короткая, глаза серые. Особая примета — татуировка на предплечье в виде черепов. Носит очки.</p><p>Был одет: чёрный пуховик, светлые джинсы, синие кроссовки. При себе имел &nbsp;серый рюкзак.</p><p>Родные Александра сообщили "Клопс", что в последний раз мужчину видели в районе форта №5 в конце Советского проспекта поздним вечером в среду. Глазачев был на серебристом Mercedes, госномер Р 929 ХС 39.</p><p>Всех, кто что-либо знает о местонахождении Александра, просят сообщить об этом по телефонам 8(4012)508-038, 8(911)482-50-88 (ПСО "Запад").&nbsp;</p>',
		// 	"slug": "article-slug-1",
		// 	"created_at": 1555065432,
		// 	"public_at": 1555065432,
		// 	"gallery": [
		// 	{
		// 		"id": 1,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 2,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 3,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 4,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 5,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 6,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 7,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 8,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 9,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 10,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 11,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 12,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 13,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 14,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 15,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	{
		// 		"id": 16,
		// 		"thumbnail": "http://placehold.it/600x400",
		// 		"image": "http://placehold.it/1920x1000"
		// 	},
		// 	]
		// },
		],
		pages: {
			current: 1,
			max: 1
		}
	},
	blogFront: [
	// {
	// 	"id": 1,
	// 	"title": "В Калининграде пропал без вести 24-летний мужчина",
	// 	"preview": "http://placehold.it/1000x600",
	// 	"discription": 'В Калининграде ищут пропавшего без вести 24-летнего Александра Глазачева. Об этом сообщают волонтёры ПСО "Запад". Мужчина ушёл из дома на ул. Гагарина 11 декабря около часу дня.',
	// 	"public_at": 1555065432,
	// },
	],
	blogRandom: [
	// {
	// 	"id": 1,
	// 	"title": "В Калининграде пропал без вести 24-летний мужчина",
	// 	"preview": "http://placehold.it/1000x600",
	// 	"discription": 'В Калининграде ищут пропавшего без вести 24-летнего Александра Глазачева. Об этом сообщают волонтёры ПСО "Запад". Мужчина ушёл из дома на ул. Гагарина 11 декабря около часу дня.',
	// 	"public_at": 1555065432,
	// },
	],
	singleBlog: {}
})

export const mutations = {
	setPosts (state, blog) {
		state.blog = blog
	},
	setPostsFront (state, blogFront) {
		// console.dir(blogFront)
		state.blogFront = blogFront.blog.items
	},
	setPostsRandom (state, blogRandom) {
		state.blogRandom = blogRandom.blog.items
	},
	setSingleBlog (state, singleBlog) {
		state.singleBlog = singleBlog.blog.items
	},
}

export const actions = {
	async fetch ({commit}, payload) {
		let blog = await this.$axios.$get(process.env.apiURL + "wp-content/themes/diez__template_balticnews/api/blog.php", {
			params: {
				page: payload.page || 1,
			}
		})
		.then( response => {
			commit('setPosts', response);
			console.log(payload);
		})
		.catch((e) => {
			// console.log(e);
		})
	},
	// async fetchCustom ({commit}, payload) {
	// 	let blog = await this.$axios.$get(process.env.apiURL + "wp-content/themes/diez__template_balticnews/api/blog.php", {
	// 		params: {
	// 			page: payload.page || 1,
	// 		}
	// 	})
	// 	.then( response => {
	// 		commit('setPosts', response)
	// 		console.log(response)
	// 	})
	// 	.catch((e) => {
	// 		console.log(e)
	// 	})
	// },
	async fetchFront ({commit}) {
		const blogFront = await this.$axios.$get(process.env.apiURL + "api/v1/blog", {
			params: {
				frontblog: 1,
			}
		})
		.then( response => {
			commit('setPostsFront', response)
		})
		.catch((e) => {
			console.log(e)
		})
	},
	async fetchRandom ({commit}) {
		const blogRandom = await this.$axios.$get(process.env.apiURL + "/api/v1/blog", {
			params: {
				random: 1,
			}
		})
		.then( response => {
			commit('setPostsRandom', response)
		})
		.catch((e) => {
			console.log(e)
		})
	},
	async fetchSingle ({commit}, payload) {
		const singleBlog = await this.$axios.$get(process.env.apiURL + "/api/v1/blog", {
			params: {
				single: payload,
			}
		})
		.then( response => {
			console.log(response)
			commit('setSingleBlog', response)
		})
		.catch((e) => {
			console.log(e)
		})
	}
}

export const getters = {
	blog: s => s.blog,
	blogFront: s => s.blogFront,
	blogRandom: s => s.blogRandom,
	singleBlog: s => s.singleBlog
}